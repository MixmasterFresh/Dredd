<!DOCTYPE html>
<html lang="en">
<head>
<title>ACE in Action</title>
    <style type="text/css" media="screen">
        #editor {
            width: 800px;
            margin: auto;
            min-height: 400px;
            border-radius: 15px;
            border: 1px solid #333;
            box-shadow: 0 0 1px 0px #333 inset, 0 0 1px 0px #333;
        }
    </style>
</head>
<body>

<div id="editor">int dont(){

}
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.8/ace.js" type="text/javascript" charset="utf-8"></script>
    <script>
        var editor = ace.edit("editor");
        var changed = false;
        var autosaver = null;
        var autosave = function() {
            //do some actual saving here
            changed = false;
            console.log("Saved")
        };
        var finalSave = function() {
            if(changed){
                autosave();
                return "Stop";
            }
        };
        window.onbeforeunload = finalSave;
        editor.setTheme("ace/theme/chrome");
        editor.getSession().setMode("ace/mode/c_cpp");
        editor.setOptions({
        maxLines: Infinity
        });
        editor.getSession().setUseWrapMode(true);
        editor.getSession().on('change', function(e) {
            window.clearTimeout(autosaver)
            changed = true;
            autosaver = window.setTimeout(autosave,3000);
        });
        document.getElementById('editor').style.fontSize='15px';
    </script>
</body>
</html>
